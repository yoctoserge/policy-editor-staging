(this["webpackJsonpf5-waf-policy-editor"]=this["webpackJsonpf5-waf-policy-editor"]||[]).push([[0],{312:function(e,t,n){"use strict";n.r(t);var r,c=n(0),i=n.n(c),o=n(18),a=n.n(o),s=n(29),l=n(113),u=n.n(l),j=n(177),d=n(36),b=n(9),p=n(4),f=n(370),h=n(368),O=n(369),g=n(353),v=n(355),y=340,m=Object(g.a)((function(e){return Object(v.a)({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},title:{flexGrow:1},appBarShift:{width:"calc(100% - ".concat(y,"px)"),marginLeft:y,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none !important"},drawer:{width:y,flexShrink:0},drawerPaper:{width:y},drawerHeader:Object(b.a)(Object(b.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{overflow:"scroll",flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-340,maxWidth:"100vw",minWidth:"720px"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0,maxWidth:"calc(100vw - ".concat(y,"px)")},nested:{paddingLeft:e.spacing(4)},nested2:{paddingLeft:e.spacing(8)},ellipsis:{overflow:"hidden",textOverflow:"ellipsis"},sectionButtons:{margin:e.spacing(2)},hidden:{display:"none"},pageContent:{padding:e.spacing(1)}})}),{index:1}),x=n(356),C=n(358),k=n(359),w=n(317),L=n(363),P=n(357),S=n(360),E=n(361),I=n(362),M=n(365),R=n(366),V=n(364),A=n(41),N=function(){return Object(A.d)((function(e){return e.dashboardState}))};!function(e){e[e.PolicyEditor=0]="PolicyEditor",e[e.PolicyWizard=1]="PolicyWizard",e[e.ApplicationPreset=2]="ApplicationPreset"}(r||(r={}));var B="dashboard::module::set",z="policy-editor::page:set",T="policy-editor::json::text::set",H="policy-editor::json::src::set",W="policy-editor::json::visit";function _(e){return{type:B,currentModule:e}}var J,U,F,D,Z,G,X,Y=n(2),$=function(e){var t=e.onDrawerClose,n=m(),i=Object(A.c)(),o=N();return Object(Y.jsxs)(c.Fragment,{children:[Object(Y.jsx)("div",{className:n.drawerHeader,children:Object(Y.jsx)(x.a,{onClick:t,children:Object(Y.jsx)(P.a,{})})}),Object(Y.jsx)(C.a,{}),Object(Y.jsx)(k.a,{children:[{text:"Policy Editor",id:r.PolicyEditor,icon:Object(Y.jsx)(S.a,{}),onClick:function(){i(_(r.PolicyEditor))}},{text:"Policy Wizard",id:r.PolicyWizard,icon:Object(Y.jsx)(E.a,{}),onClick:function(){i(_(r.PolicyWizard))}},{text:"Application Preset",id:r.ApplicationPreset,icon:Object(Y.jsx)(I.a,{}),onClick:function(){i(_(r.ApplicationPreset))}}].map((function(e,t){var n=e.text,r=e.id,c=e.icon,i=e.onClick;return Object(Y.jsxs)(w.a,{button:!0,onClick:function(){return i()},selected:r===o.currentModule,children:[Object(Y.jsx)(L.a,{children:c}),Object(Y.jsx)(V.a,{primary:n})]},t)}))}),Object(Y.jsx)(C.a,{}),Object(Y.jsx)(k.a,{children:[{text:"Download",icon:Object(Y.jsx)(M.a,{}),onClick:function(){}},{text:"Share",icon:Object(Y.jsx)(R.a,{}),onClick:function(){}}].map((function(e,t){var n=e.text,r=e.icon,c=e.onClick;return Object(Y.jsxs)(w.a,{button:!0,onClick:function(){return c()},children:[Object(Y.jsx)(L.a,{children:r}),Object(Y.jsx)(V.a,{primary:n})]},t)}))})]})},q=n(182),K=n.n(q),Q=n(367),ee=n(125),te=function(e){var t=e.open,n=e.onDrawerOpen,r=m();return Object(Y.jsxs)(Q.a,{children:[Object(Y.jsx)(x.a,{color:"inherit","aria-label":"open drawer",onClick:n,edge:"start",className:Object(p.a)(r.menuButton,t&&r.hide),children:Object(Y.jsx)(K.a,{})}),Object(Y.jsx)(ee.a,{variant:"h6",noWrap:!0,children:"WAF Policy Editor"})]})},ne=function(e){var t=e.children,n=m(),r=Object(c.useState)(!1),i=Object(d.a)(r,2),o=i[0],a=i[1];return Object(Y.jsxs)("div",{className:n.root,children:[Object(Y.jsx)(h.a,{}),Object(Y.jsx)(O.a,{position:"fixed",className:Object(p.a)(n.appBar,Object(s.a)({},n.appBarShift,o)),children:Object(Y.jsx)(te,{onDrawerOpen:function(){a(!0)},open:o})}),Object(Y.jsx)(f.a,{className:n.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:n.drawerPaper},children:Object(Y.jsx)($,{onDrawerClose:function(){a(!1)}})}),Object(Y.jsxs)("main",{className:Object(p.a)(n.content,Object(s.a)({},n.contentShift,o)),children:[Object(Y.jsx)("div",{className:n.drawerHeader}),t]})]})},re=function(){return Object(Y.jsx)(ee.a,{children:"Application Preset is under development"})},ce=n(395),ie=n(143),oe=n.n(ie),ae=n(389),se=n(372),le=oe()((function(e){return Object(v.a)({root:{borderBottom:"1px solid ".concat(e.palette.divider)},indicator:{backgroundColor:e.palette.primary.main}})}))(ae.a),ue=oe()((function(e){return Object(v.a)({root:{textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(4),"&:hover":{color:e.palette.primary.main,opacity:1},"&$selected":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium},"&:focus":{color:e.palette.primary.main}},selected:{}})}))((function(e){return Object(Y.jsx)(se.a,Object(b.a)({},e))})),je=n(373);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function pe(e,t){var n=e.title,r=e.titleId,i=be(e,["title","titleId"]);return c.createElement("svg",de({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,J||(J=c.createElement("path",{d:"M10 8.125V4.375",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),U||(U=c.createElement("path",{d:"M6.25 11.875V8.125",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),F||(F=c.createElement("path",{d:"M13.75 11.875V8.125",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),D||(D=c.createElement("path",{d:"M10 15.625V11.875",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Z||(Z=c.createElement("path",{d:"M2.5 8.125H17.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),G||(G=c.createElement("path",{d:"M2.5 11.875H17.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),X||(X=c.createElement("path",{d:"M17.5 4.375H2.5V15.625H17.5V4.375Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var fe,he,Oe=c.forwardRef(pe);n.p;function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ye(e,t){var n=e.title,r=e.titleId,i=ve(e,["title","titleId"]);return c.createElement("svg",ge({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,fe||(fe=c.createElement("path",{d:"M16.9444 16.25H3.07692C2.92405 16.2496 2.77757 16.1886 2.66947 16.0805C2.56137 15.9724 2.50045 15.8259 2.5 15.6731V6.25H16.875C17.0408 6.25 17.1997 6.31585 17.3169 6.43306C17.4342 6.55027 17.5 6.70924 17.5 6.875V15.6944C17.5 15.8418 17.4415 15.9831 17.3373 16.0873C17.2331 16.1915 17.0918 16.25 16.9444 16.25V16.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),he||(he=c.createElement("path",{d:"M2.5 6.25V4.375C2.5 4.20924 2.56585 4.05027 2.68306 3.93306C2.80027 3.81585 2.95924 3.75 3.125 3.75H7.24112C7.32319 3.75 7.40447 3.76617 7.48029 3.79758C7.55612 3.82898 7.62502 3.87502 7.68306 3.93306L10 6.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var me,xe,Ce=c.forwardRef(ye);n.p;function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Le(e,t){var n=e.title,r=e.titleId,i=we(e,["title","titleId"]);return c.createElement("svg",ke({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,me||(me=c.createElement("path",{d:"M10 13.75C12.0711 13.75 13.75 12.0711 13.75 10C13.75 7.92893 12.0711 6.25 10 6.25C7.92893 6.25 6.25 7.92893 6.25 10C6.25 12.0711 7.92893 13.75 10 13.75Z",stroke:"currentColor",strokeWidth:1})),xe||(xe=c.createElement("path",{d:"M9.59935 3.44944L8.12517 2.34413C8.04608 2.28463 7.95397 2.24478 7.85645 2.22786C7.75893 2.21094 7.65879 2.21744 7.56427 2.24682C7.10771 2.38979 6.66475 2.57306 6.24063 2.79446C6.15284 2.84051 6.07725 2.90678 6.02012 2.9878C5.96298 3.06882 5.92593 3.16227 5.91203 3.26043L5.65142 5.08472C5.55209 5.17278 5.45484 5.26436 5.35967 5.35947C5.26453 5.45461 5.17293 5.55189 5.08485 5.6513L5.08481 5.65133L3.26085 5.91217C3.16284 5.92602 3.06954 5.96297 2.98862 6.01996C2.90769 6.07696 2.84148 6.15236 2.79542 6.23997C2.57367 6.66391 2.39005 7.10672 2.24671 7.56317C2.21719 7.65781 2.2106 7.75812 2.22749 7.85581C2.24438 7.9535 2.28426 8.04578 2.34384 8.12502L3.44953 9.59926C3.44155 9.73176 3.43754 9.86529 3.4375 9.99983C3.4375 10.1344 3.44151 10.2679 3.44953 10.4005L3.44953 10.4006L2.34422 11.8747C2.28472 11.9538 2.24487 12.0459 2.22795 12.1435C2.21103 12.241 2.21753 12.3411 2.24691 12.4356C2.38988 12.8922 2.57315 13.3352 2.79455 13.7593C2.84061 13.8471 2.90688 13.9227 2.9879 13.9798C3.06892 14.0369 3.16236 14.074 3.26052 14.0879L5.08481 14.3485C5.17286 14.4478 5.26445 14.5451 5.35956 14.6402C5.4547 14.7354 5.55197 14.827 5.65139 14.9151L5.65142 14.9151L5.91225 16.7391C5.92611 16.8371 5.96306 16.9304 6.02005 17.0113C6.07704 17.0922 6.15245 17.1584 6.24006 17.2045C6.664 17.4262 7.10681 17.6099 7.56326 17.7532C7.6579 17.7827 7.75821 17.7893 7.8559 17.7724C7.95359 17.7555 8.04587 17.7157 8.12511 17.6561L9.59935 16.5504C9.73185 16.5584 9.86538 16.5624 9.99992 16.5624C10.1345 16.5624 10.268 16.5584 10.4006 16.5504L10.4007 16.5504L11.8748 17.6557C11.9539 17.7152 12.046 17.755 12.1436 17.772C12.2411 17.7889 12.3412 17.7824 12.4357 17.753C12.8923 17.61 13.3353 17.4268 13.7594 17.2054C13.8472 17.1593 13.9228 17.093 13.9799 17.012C14.037 16.931 14.0741 16.8376 14.088 16.7394L14.3486 14.9151C14.4479 14.8271 14.5452 14.7355 14.6403 14.6404C14.7355 14.5452 14.8271 14.4479 14.9152 14.3485L14.9152 14.3485L16.7392 14.0877C16.8372 14.0738 16.9305 14.0369 17.0114 13.9799C17.0923 13.9229 17.1585 13.8475 17.2046 13.7599C17.4263 13.3359 17.61 12.8931 17.7533 12.4367C17.7828 12.342 17.7894 12.2417 17.7725 12.144C17.7556 12.0463 17.7158 11.9541 17.6562 11.8748L16.5505 10.4006C16.5585 10.2681 16.5625 10.1345 16.5625 9.99999C16.5625 9.86545 16.5585 9.73189 16.5505 9.59931L16.5505 9.59926L17.6558 8.12508C17.7153 8.04599 17.7551 7.95388 17.7721 7.85636C17.789 7.75884 17.7825 7.6587 17.7531 7.56418C17.6101 7.10761 17.4269 6.66466 17.2055 6.24054C17.1594 6.15275 17.0931 6.07716 17.0121 6.02002C16.9311 5.96289 16.8376 5.92584 16.7395 5.91193L14.9152 5.65133C14.8271 5.552 14.7356 5.45474 14.6404 5.35958C14.5453 5.26444 14.448 5.17284 14.3486 5.08476L14.3486 5.08472L14.0878 3.26075C14.0739 3.16275 14.037 3.06944 13.98 2.98852C13.923 2.9076 13.8476 2.84138 13.7599 2.79533C13.336 2.57358 12.8932 2.38996 12.4368 2.24662C12.3421 2.2171 12.2418 2.21051 12.1441 2.2274C12.0464 2.24429 11.9541 2.28417 11.8749 2.34374L10.4007 3.44944C10.2682 3.44146 10.1346 3.43745 10.0001 3.43741C9.86554 3.43741 9.73198 3.44142 9.5994 3.44944L9.59935 3.44944Z",stroke:"currentColor",strokeWidth:1})))}var Pe,Se,Ee=c.forwardRef(Le);n.p;function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Re(e,t){var n=e.title,r=e.titleId,i=Me(e,["title","titleId"]);return c.createElement("svg",Ie({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,Pe||(Pe=c.createElement("path",{d:"M16.25 11.25H3.75C3.40482 11.25 3.125 11.5298 3.125 11.875V15C3.125 15.3452 3.40482 15.625 3.75 15.625H16.25C16.5952 15.625 16.875 15.3452 16.875 15V11.875C16.875 11.5298 16.5952 11.25 16.25 11.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Se||(Se=c.createElement("path",{d:"M16.25 4.375H3.75C3.40482 4.375 3.125 4.65482 3.125 5V8.125C3.125 8.47018 3.40482 8.75 3.75 8.75H16.25C16.5952 8.75 16.875 8.47018 16.875 8.125V5C16.875 4.65482 16.5952 4.375 16.25 4.375Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var Ve,Ae,Ne,Be,ze=c.forwardRef(Re);n.p;function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function We(e,t){var n=e.title,r=e.titleId,i=He(e,["title","titleId"]);return c.createElement("svg",Te({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,Ve||(Ve=c.createElement("path",{d:"M9.99951 12.5C10.8625 12.5 11.562 11.8004 11.562 10.9375C11.562 10.0746 10.8625 9.375 9.99951 9.375C9.13657 9.375 8.43701 10.0746 8.43701 10.9375C8.43701 11.8004 9.13657 12.5 9.99951 12.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Ae||(Ae=c.createElement("path",{d:"M9.99951 12.5V14.375",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Ne||(Ne=c.createElement("path",{d:"M16.2495 6.875H3.74951C3.40433 6.875 3.12451 7.15482 3.12451 7.5V16.25C3.12451 16.5952 3.40433 16.875 3.74951 16.875H16.2495C16.5947 16.875 16.8745 16.5952 16.8745 16.25V7.5C16.8745 7.15482 16.5947 6.875 16.2495 6.875Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Be||(Be=c.createElement("path",{d:"M7.18701 6.875V4.0625C7.18701 3.31658 7.48333 2.60121 8.01077 2.07376C8.53822 1.54632 9.25359 1.25 9.99951 1.25C10.7454 1.25 11.4608 1.54632 11.9882 2.07376C12.5157 2.60121 12.812 3.31658 12.812 4.0625",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var _e,Je,Ue,Fe,De,Ze,Ge=c.forwardRef(We);n.p;function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function $e(e,t){var n=e.title,r=e.titleId,i=Ye(e,["title","titleId"]);return c.createElement("svg",Xe({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,_e||(_e=c.createElement("path",{d:"M5.3125 16.875C6.52062 16.875 7.5 15.8956 7.5 14.6875C7.5 13.4794 6.52062 12.5 5.3125 12.5C4.10438 12.5 3.125 13.4794 3.125 14.6875C3.125 15.8956 4.10438 16.875 5.3125 16.875Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Je||(Je=c.createElement("path",{d:"M5.3125 7.5C6.52062 7.5 7.5 6.52062 7.5 5.3125C7.5 4.10438 6.52062 3.125 5.3125 3.125C4.10438 3.125 3.125 4.10438 3.125 5.3125C3.125 6.52062 4.10438 7.5 5.3125 7.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Ue||(Ue=c.createElement("path",{d:"M5.3125 7.5V12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Fe||(Fe=c.createElement("path",{d:"M14.6877 16.875C15.8958 16.875 16.8752 15.8956 16.8752 14.6875C16.8752 13.4794 15.8958 12.5 14.6877 12.5C13.4796 12.5 12.5002 13.4794 12.5002 14.6875C12.5002 15.8956 13.4796 16.875 14.6877 16.875Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),De||(De=c.createElement("path",{d:"M14.6877 12.5L14.6876 9.36571C14.6875 8.3712 14.2924 7.41744 13.5892 6.71421L10.625 3.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),Ze||(Ze=c.createElement("path",{d:"M10.625 6.875V3.75H13.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var qe,Ke=c.forwardRef($e);n.p;function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function tt(e,t){var n=e.title,r=e.titleId,i=et(e,["title","titleId"]);return c.createElement("svg",Qe({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,qe||(qe=c.createElement("path",{d:"M14.4524 2.89582L11.1742 6.1741L11.6161 8.3838L13.8258 8.82575L17.1041 5.54747L17.1044 5.54734C17.5102 6.50517 17.6072 7.56569 17.382 8.58126C17.1568 9.59684 16.6206 10.5169 15.848 11.2135C15.0754 11.91 14.1049 12.3484 13.0715 12.4675C12.0381 12.5866 10.9933 12.3806 10.0824 11.8781L10.0825 11.8779L5.7008 16.9507C5.3491 17.302 4.8723 17.4993 4.3752 17.4992C3.8781 17.499 3.40141 17.3015 3.04991 16.95C2.69841 16.5985 2.50087 16.1218 2.50073 15.6247C2.50059 15.1276 2.69785 14.6508 3.04915 14.2991L8.12192 9.91742L8.12181 9.91748C7.61931 9.00666 7.41327 7.96183 7.53239 6.92843C7.65151 5.89504 8.08986 4.92449 8.78641 4.15188C9.48296 3.37928 10.4031 2.84306 11.4186 2.61788C12.4342 2.39269 13.4947 2.48974 14.4526 2.89551L14.4524 2.89582Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var nt,rt,ct,it=c.forwardRef(tt);n.p;function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function st(e,t){var n=e.title,r=e.titleId,i=at(e,["title","titleId"]);return c.createElement("svg",ot({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,nt||(nt=c.createElement("path",{d:"M7.5 16.8749H3.75C3.58424 16.8749 3.42527 16.8091 3.30806 16.6918C3.19085 16.5746 3.125 16.4157 3.125 16.2499V12.7588C3.125 12.6767 3.14117 12.5954 3.17258 12.5196C3.20398 12.4438 3.25002 12.3749 3.30806 12.3168L12.6831 2.94185C12.8003 2.82464 12.9592 2.75879 13.125 2.75879C13.2908 2.75879 13.4497 2.82464 13.5669 2.94185L17.0581 6.43296C17.1753 6.55017 17.2411 6.70915 17.2411 6.87491C17.2411 7.04067 17.1753 7.19964 17.0581 7.31685L7.5 16.8749Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),rt||(rt=c.createElement("path",{d:"M10.625 5L15 9.375",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),ct||(ct=c.createElement("path",{d:"M16.875 16.875H7.50003L3.16479 12.5398",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var lt,ut,jt=c.forwardRef(st);n.p;function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bt(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function pt(e,t){var n=e.title,r=e.titleId,i=bt(e,["title","titleId"]);return c.createElement("svg",dt({fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,lt||(lt=c.createElement("path",{d:"M9.55805 5.58063L11.1049 4.03383C11.424 3.71439 11.803 3.46095 12.2201 3.288C12.6372 3.11505 13.0843 3.02598 13.5359 3.02588C13.9874 3.02577 14.4346 3.11464 14.8518 3.28739C15.269 3.46014 15.648 3.7134 15.9673 4.0327C16.2866 4.352 16.5399 4.73107 16.7127 5.14827C16.8854 5.56548 16.9743 6.01263 16.9742 6.46418C16.9741 6.91573 16.885 7.36284 16.712 7.77996C16.5391 8.19708 16.2857 8.57604 15.9662 8.89519L13.7565 11.1049C13.4373 11.4241 13.0584 11.6773 12.6413 11.8501C12.2242 12.0228 11.7772 12.1117 11.3258 12.1117C10.8744 12.1117 10.4274 12.0228 10.0103 11.8501C9.59329 11.6773 9.21434 11.4241 8.89514 11.1049",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),ut||(ut=c.createElement("path",{d:"M10.4419 14.4195L8.89513 15.9663C8.57598 16.2858 8.19702 16.5392 7.7799 16.7121C7.36278 16.8851 6.91567 16.9742 6.46412 16.9743C6.01256 16.9744 5.56541 16.8855 5.14821 16.7128C4.73101 16.54 4.35193 16.2867 4.03264 15.9674C3.71334 15.6482 3.46008 15.2691 3.28733 14.8519C3.11458 14.4347 3.02571 13.9875 3.02582 13.536C3.02592 13.0844 3.11499 12.6373 3.28794 12.2202C3.46089 11.8031 3.71433 11.4241 4.03377 11.105L6.24348 8.89525C6.56268 8.57605 6.94163 8.32284 7.35868 8.15009C7.77574 7.97734 8.22274 7.88843 8.67416 7.88843C9.12558 7.88843 9.57258 7.97734 9.98963 8.15009C10.4067 8.32284 10.7856 8.57605 11.1048 8.89525",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}var ft,ht=c.forwardRef(pt);n.p;function Ot(e,t,n){return Object(Y.jsx)(c.Fragment,{children:Object(Y.jsxs)(ce.a,{children:[Object(Y.jsx)("span",{style:{verticalAlign:"middle"},children:n}),Object(Y.jsx)("span",{style:{verticalAlign:"middle"},children:t}),e&&Object(Y.jsx)(je.a,{style:{verticalAlign:"middle"}})]})})}!function(e){e[e.GeneralSettings=0]="GeneralSettings",e[e.BlockingSettings=1]="BlockingSettings",e[e.Methods=2]="Methods",e[e.URLs=3]="URLs",e[e.Filetypes=4]="Filetypes",e[e.Headers=5]="Headers",e[e.Parameters=6]="Parameters",e[e.Signatures=7]="Signatures",e[e.BotDefense=8]="BotDefense"}(ft||(ft={}));var gt={style:{verticalAlign:"middle"},width:30,height:23,color:"inherit",viewport:"0 0 20 20"},vt=[{label:Ot(!0,"General Settings",Object(Y.jsx)(Ee,Object(b.a)({},gt))),id:ft.GeneralSettings},{label:Ot(!1,"Blocking Settings",Object(Y.jsx)(Ge,Object(b.a)({},gt))),id:ft.BlockingSettings},{label:Ot(!1,"Methods",Object(Y.jsx)(Ke,Object(b.a)({},gt))),id:ft.Methods},{label:Ot(!1,"URLs",Object(Y.jsx)(ht,Object(b.a)({},gt))),id:ft.URLs},{label:Ot(!0,"File Types",Object(Y.jsx)(Ce,Object(b.a)({},gt))),id:ft.Filetypes},{label:Ot(!1,"Headers",Object(Y.jsx)(ze,Object(b.a)({},gt))),id:ft.Headers},{label:Ot(!1,"Parameters",Object(Y.jsx)(it,Object(b.a)({},gt))),id:ft.Parameters},{label:Ot(!0,"Signatures",Object(Y.jsx)(jt,Object(b.a)({},gt))),id:ft.Signatures},{label:Ot(!1,"Bot Defense",Object(Y.jsx)(Oe,Object(b.a)({},gt))),id:ft.BotDefense}],yt=function(){return Object(A.c)()},mt=function(){return Object(A.d)((function(e){return e.policyEditorState}))};function xt(e){return{type:T,strPolicy:e}}function Ct(e){return{type:W,visitor:e}}function kt(e,t){return{type:H,policySrcUrl:e,strPolicy:t}}var wt=n(10),Lt=n(14),Pt=n(374),St=function(e){var t=e.rows,n=Object(c.useState)(-1),r=Object(d.a)(n,2),i=r[0],o=r[1];return Object(Y.jsx)(Pt.a,{container:!0,spacing:1,children:Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:12,children:t.map((function(e,t){return Object(Y.jsxs)(c.Fragment,{children:[Object(Y.jsx)(Pt.a,{container:!0,item:!0,alignItems:"center",xs:3,children:Object(Y.jsx)(ee.a,{color:i===t?"primary":void 0,variant:"body2",children:e.title})}),Object(Y.jsx)(Pt.a,{item:!0,xs:9,children:e.controlInfo.createControl({fullWidth:!0,hiddenLabel:!0,variant:"filled",margin:"dense",onSelect:function(){return o(t)},onBlur:function(){return o(-1)}})})]},t)}))})})},Et=function e(t,n){Object(wt.a)(this,e),this.dispatch=t,this.json=n};function It(e){var t=mt().jsonCurrentPolicy;return new e(yt(),t)}var Mt=n(21),Rt=n(20),Vt=n(12),At=function(){return{policy:{name:"policy_name",template:{name:"POLICY_TEMPLATE_NGINX_BASE"},applicationLanguage:"utf-8",enforcementMode:"blocking"}}},Nt=n(391),Bt=n(375),zt=function(){function e(t,n,r,c){Object(wt.a)(this,e),this.currentValue=t,this.onValueChange=n,this.cellProps=r,this.controlProps=c}return Object(Lt.a)(e,[{key:"createCell",value:function(e,t){return Object(Y.jsx)(Bt.a,Object(b.a)(Object(b.a)(Object(b.a)({size:"small"},this.cellProps),t),{},{children:e}))}},{key:"createControl",value:function(e){var t,n=this;return Object(Y.jsx)(Nt.a,Object(b.a)(Object(b.a)({fullWidth:!0,value:null!==(t=this.currentValue)&&void 0!==t?t:"",onChange:function(e){return n.onValueChange(e.target.value)}},this.controlProps),e))}}]),e}(),Tt=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"hasAdvancedRows",get:function(){return!1}},{key:"getAdvancedRows",value:function(){return[]}},{key:"getBasicRows",value:function(){var e=this;return[{title:"Policy Name",controlInfo:new zt(Object(Vt.get)(this.json,"policy.name"),(function(t){return e.dispatch(Ct((function(e){return Object(Vt.set)(e,"policy.name",t)})))}))},{title:"Application Language",controlInfo:new zt(Object(Vt.get)(this.json,"policy.applicationLanguage"),(function(t){return e.dispatch(Ct((function(e){return Object(Vt.set)(e,"policy.applicationLanguage",t)})))}))},{title:"Enforcement Mode",controlInfo:new zt(Object(Vt.get)(this.json,"policy.enforcementMode"),(function(t){return e.dispatch(Ct((function(e){return Object(Vt.set)(e,"policy.enforcementMode",t)})))}))},{title:"Template",controlInfo:new zt(Object(Vt.get)(this.json,"policy.template.name"),(function(t){return e.dispatch(Ct((function(e){return Object(Vt.set)(e,"policy.template.name",t)})))}))}]}},{key:"create",value:function(){this.dispatch(Ct((function(e){Object(Vt.set)(e,"policy",At)})))}},{key:"remove",value:function(){}}]),n}(Et),Ht=function(){var e=m(),t=It(Tt);return Object(Y.jsx)(ce.a,{className:e.pageContent,children:Object(Y.jsx)(St,{rows:t.getBasicRows()})})},Wt=n(147),_t=n(5),Jt=n(383),Ut=n(385),Ft=n(381),Dt=n(384),Zt=n(382),Gt=n(393),Xt=n(184),Yt=n.n(Xt),$t=n(380),qt=n(183),Kt=n.n(qt),Qt=n(379),en=n(318),tn=i.a.forwardRef((function(e,t){return Object(Y.jsx)(en.a,Object(b.a)({direction:"up",ref:t},e))})),nn=Object(_t.a)((function(e){return Object(v.a)({root:{position:"relative"}})}))(O.a),rn=Object(_t.a)((function(e){return Object(v.a)({root:{marginLeft:e.spacing(2),flex:1}})}))(ee.a),cn=function(e){var t=e.open,n=e.title,r=e.handleClose,c=e.children,i=m();return Object(Y.jsxs)(Qt.a,{fullScreen:!0,open:t,onClose:r,TransitionComponent:tn,children:[Object(Y.jsx)(nn,{children:Object(Y.jsxs)(Q.a,{children:[Object(Y.jsx)(rn,{variant:"h6",children:n}),Object(Y.jsx)($t.a,{autoFocus:!0,color:"inherit",onClick:r,children:"Save & Close"})]})}),Object(Y.jsx)(Pt.a,{container:!0,spacing:1,children:Object(Y.jsxs)(Pt.a,{container:!0,item:!0,spacing:1,xs:12,children:[Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:2}),Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:8,children:Object(Y.jsx)(ce.a,{className:i.pageContent,children:c})}),Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:2})]})})]})},on=n(124),an=n(386),sn=Object(_t.a)((function(e){return Object(v.a)({head:{backgroundColor:e.palette.background.default,color:e.palette.primary.contrastText}})}))(Bt.a),ln=Object(_t.a)((function(e){return Object(v.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(Ft.a),un=function(e){return function(t){return Object(Y.jsx)(on.a,{onDragEnd:e,children:Object(Y.jsx)(on.c,{droppableId:"1",direction:"vertical",children:function(e){return Object(Y.jsxs)(Zt.a,Object(b.a)(Object(b.a)(Object(b.a)({ref:e.innerRef},e.droppableProps),t),{},{children:[t.children,e.placeholder]}))}})})}},jn=function(e){var t=e.settingsName,n=e.titles,r=e.visitors,i=e.dnd,o=e.onDragEnd,a=Object(c.useState)([]),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(c.useState)(!1),p=Object(d.a)(j,2),f=p[0],h=p[1],O=Object(c.useState)(-1),g=Object(d.a)(O,2),v=g[0],y=g[1];Object(c.useEffect)((function(){u(new Array(r.length).fill(!1))}),[r.length]);var m=!l.some((function(e){return!e})),C=l.some((function(e){return e}));return r&&0!==r.length?Object(Y.jsxs)(c.Fragment,{children:[Object(Y.jsx)(cn,{title:null!==t&&void 0!==t?t:"",open:f,handleClose:function(){return h(!1)},children:f&&function(e){if(!(e<0))return Object(Y.jsx)(St,{rows:r[e].getAdvancedRows()})}(v)}),Object(Y.jsx)(Jt.a,{component:ce.a,children:Object(Y.jsxs)(Dt.a,{children:[Object(Y.jsx)(Ut.a,{children:Object(Y.jsxs)(Ft.a,{children:[i&&Object(Y.jsx)(sn,{}),Object(Y.jsx)(sn,{}),Object(Y.jsx)(sn,{padding:"checkbox",size:"small",align:"center",children:Object(Y.jsx)(Gt.a,{checked:m,size:"small",color:"primary",onChange:function(e){u(Object(Wt.a)(l.map((function(t){return e.currentTarget.checked}))))}})}),n.map((function(e,t){return Object(Y.jsx)(sn,{children:Object(Y.jsx)(ee.a,{color:"primary",children:e})},t)})),Object(Y.jsx)(sn,{align:"center",children:Object(Y.jsx)(ee.a,{children:Object(Y.jsx)($t.a,{disabled:!C,color:"primary",variant:"contained",onClick:function(){return function(){for(var e=0,t=0;t<l.length;t++)l[t]&&(r[t-e].remove(),e++)}()},children:"Remove"})})})]})}),Object(Y.jsx)(Zt.a,{component:un((function(e,t){return o&&o(e,t)})),children:r.map((function(e,t){var n,r,o,a=Object(Y.jsxs)(c.Fragment,{children:[i&&Object(Y.jsx)(Bt.a,{style:{width:"24px",paddingLeft:"0px",paddingRight:"0px"},children:Object(Y.jsx)(an.a,{})}),Object(Y.jsx)(Bt.a,{style:{width:"24px"},children:e.hasAdvancedRows?Object(Y.jsx)(x.a,{size:"small",onClick:function(){return y(t),void h(!0)},children:Object(Y.jsx)(Kt.a,{})}):void 0}),Object(Y.jsx)(sn,{padding:"checkbox",size:"small",align:"center",children:Object(Y.jsx)(Gt.a,{size:"small",color:"primary",checked:null!==(n=l[t])&&void 0!==n&&n,onChange:function(e){l[t]=e.currentTarget.checked,u(Object(Wt.a)(l))}})}),e.getBasicRows().map((function(e,t){return e.controlInfo.createCell(e.controlInfo.createControl({key:t}))})),Object(Y.jsx)(Bt.a,{size:"small",align:"center",padding:"checkbox",children:Object(Y.jsx)(x.a,{size:"small",onClick:function(){e.remove()},children:Object(Y.jsx)(Yt.a,{})})})]});return Object(Y.jsx)(Ft.a,{component:i?(r="id_".concat(t),o=t,function(e){return Object(Y.jsx)(on.b,{draggableId:r,index:o,children:function(t,n){return Object(Y.jsx)(ln,Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(r=n.isDragging,c=t.draggableProps.style,Object(b.a)(Object(b.a)({},c),r&&{background:"rgb(235,235,235)"}))},e),{},{children:e.children}));var r,c}})}):ln,children:a},t)}))})]})})]}):Object(Y.jsx)(c.Fragment,{})},dn=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"create",value:function(e){var t="policy.blocking-settings.violations";this.dispatch(Ct((function(n){var r=Object(Vt.get)(n,t);r||(Object(Vt.set)(n,t,[]),r=Object(Vt.get)(n,t)),r.push({name:e.name,alarm:!0,block:!1})})))}}]),n}(Et),bn=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return n}(Et),pn=n(123),fn=function(){function e(t){Object(wt.a)(this,e),this.currentValue=t}return Object(Lt.a)(e,[{key:"createCell",value:function(e,t){return Object(Y.jsx)(Bt.a,Object(b.a)(Object(b.a)({size:"small"},t),{},{children:e}))}},{key:"createControl",value:function(e){return Object(Y.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{variant:"caption",children:this.currentValue}))}}]),e}(),hn=function(){function e(t,n){Object(wt.a)(this,e),this.currentValue=t,this.onValueChange=n}return Object(Lt.a)(e,[{key:"createCell",value:function(e,t){return Object(Y.jsx)(Bt.a,Object(b.a)(Object(b.a)({size:"small",padding:"checkbox",align:"center"},t),{},{children:e}))}},{key:"createControl",value:function(e){var t=this;return Object(Y.jsx)(Gt.a,Object(b.a)({size:"small",checked:this.currentValue,color:"primary",onChange:function(e){return t.onValueChange(e.target.checked)}},e))}}]),e}(),On=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(e,r,c){var i;return Object(wt.a)(this,n),(i=t.call(this,r,c)).rowIndex=e,i.dispatch=r,i.json=c,i}return Object(Lt.a)(n,[{key:"hasAdvancedRows",get:function(){return!1}},{key:"getAdvancedRows",value:function(){return[]}},{key:"getBasicRows",value:function(){var e=this,t=(new pn.Policy).getAllViolations();return[{title:"",controlInfo:new fn(function(e){var n=t.find((function(t){return t.name===e}));return n?n.title:e}(this.json.name))},{controlInfo:new hn(this.json.alarm,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.blocking-settings.violations[".concat(e.rowIndex,"].alarm"),t)})))})),title:""},{title:"",controlInfo:new hn(this.json.block,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.blocking-settings.violations[".concat(e.rowIndex,"].block"),t)})))}))}]}},{key:"remove",value:function(){var e=this;this.dispatch(Ct((function(t){t.policy["blocking-settings"].violations.splice(e.rowIndex,1)})))}}]),n}(Et),gn=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"getResolvers",value:function(){var e=this;return void 0===Object(Vt.get)(this.json,"policy['blocking-settings'].violations")?{titles:[],visitors:[]}:{titles:["Violation","Alarm","Block"],visitors:this.json.policy["blocking-settings"].violations.map((function(t,n){return new On(n,e.dispatch,t)}))}}}]),n}(bn),vn=n(191),yn=n(387),mn=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],i=(new pn.Policy).getAllViolations(),o=m(),a=It(dn),s=It(gn).getResolvers(),l=s.titles,u=s.visitors;return Object(Y.jsxs)(ce.a,{className:o.pageContent,children:[Object(Y.jsxs)(ce.a,{children:[Object(Y.jsxs)($t.a,{variant:"contained",color:"primary",onClick:function(e){return r(e.currentTarget)},children:["Add Violation",Object(Y.jsx)(je.a,{})]}),Object(Y.jsx)(vn.a,{anchorEl:n,onClose:function(){r(null)},open:Boolean(n),children:i.map((function(e,t){return Object(Y.jsx)(yn.a,{value:e.name,onClick:function(){a.create({name:e.name}),r(null)},children:e.title},t)}))})]}),Object(Y.jsx)(ce.a,{children:Object(Y.jsx)(jn,{titles:l,visitors:u})})]})},xn=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"create",value:function(){this.dispatch(Ct((function(e){var t="policy.methods",n=Object(Vt.get)(e,t);n||(Object(Vt.set)(e,t,[]),n=Object(Vt.get)(e,t)),n.push({name:""})})))}}]),n}(Et),Cn=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(e,r,c){var i;return Object(wt.a)(this,n),(i=t.call(this,r,c)).rowIndex=e,i.dispatch=r,i.json=c,i}return Object(Lt.a)(n,[{key:"hasAdvancedRows",get:function(){return!1}},{key:"getAdvancedRows",value:function(){return[]}},{key:"getBasicRows",value:function(){var e=this;return[{title:"",controlInfo:new zt(this.json.name,(function(t){return e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.methods[".concat(e.rowIndex,"].name"),t)})))}),{},{variant:"outlined",size:"small"})}]}},{key:"remove",value:function(){var e=this;this.dispatch(Ct((function(t){t.policy.methods.splice(e.rowIndex,1)})))}}]),n}(Et),kn=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"getResolvers",value:function(){var e=this;return void 0===Object(Vt.get)(this.json,"policy.methods")?{titles:[],visitors:[]}:{titles:["Method Name"],visitors:this.json.policy.methods.map((function(t,n){return new Cn(n,e.dispatch,t)}))}}}]),n}(bn),wn=function(){var e=m(),t=It(xn),n=It(kn).getResolvers(),r=n.titles,c=n.visitors;return Object(Y.jsxs)(ce.a,{className:e.pageContent,children:[Object(Y.jsx)($t.a,{variant:"contained",color:"primary",onClick:function(){return t.create()},children:"Add Method"}),Object(Y.jsx)(ce.a,{children:Object(Y.jsx)(jn,{titles:r,visitors:c})})]})},Ln=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"create",value:function(){this.dispatch(Ct((function(e){var t="policy.urls",n=Object(Vt.get)(e,t);n||(Object(Vt.set)(e,t,[]),n=Object(Vt.get)(e,t)),n.push({name:"",type:"explicit",method:"*",protocol:"http",attackSignaturesCheck:!0,metacharsOnUrlCheck:!0,wildcardOrder:n.length})})))}}]),n}(Et),Pn=n(392),Sn=function(){function e(t,n,r){Object(wt.a)(this,e),this.currentValue=t,this.onValueChange=n,this.items=r}return Object(Lt.a)(e,[{key:"createCell",value:function(e,t){return Object(Y.jsx)(Bt.a,Object(b.a)(Object(b.a)({size:"small"},t),{},{children:e}))}},{key:"createControl",value:function(e){var t=this;return Object(Y.jsx)(Pn.a,Object(b.a)(Object(b.a)({style:{width:"100%"},value:this.currentValue,onChange:function(e){return t.onValueChange(e.target.value)}},e),{},{children:this.items.map((function(e){return Object(Y.jsx)(yn.a,{value:e,children:e})}))}))}}]),e}(),En=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(e,r,c){var i;return Object(wt.a)(this,n),(i=t.call(this,r,c)).rowIndex=e,i.dispatch=r,i.json=c,i}return Object(Lt.a)(n,[{key:"hasAdvancedRows",get:function(){return!0}},{key:"getAdvancedRows",value:function(){var e=this;return[{title:"Name",controlInfo:new zt(this.json.name,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].name"),t)})))}),{},{variant:"outlined",size:"small"})},{title:"Method",controlInfo:new zt(this.json.method,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].method"),t)})))}),{},{variant:"outlined",size:"small"})},{title:"Protocol",controlInfo:new Sn(this.json.protocol,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].protocol"),t)})))}),["http","https"])},{title:"Type",controlInfo:new Sn(this.json.type,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].type"),t)})))}),["explicit","wildcard"])},{title:"Check Signatures",controlInfo:new hn(this.json.attackSignaturesCheck,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].attackSignaturesCheck"),t)})))}))},{title:"Check Metachars",controlInfo:new hn(this.json.metacharsOnUrlCheck,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].metacharsOnUrlCheck"),t)})))}))}]}},{key:"remove",value:function(){var e=this;this.dispatch(Ct((function(t){t.policy.urls.splice(e.rowIndex,1)})))}},{key:"getBasicRows",value:function(){var e=this;return[{title:"",controlInfo:new zt(this.json.name,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].name"),t)})))}),{},{variant:"outlined",size:"small"})},{title:"",controlInfo:new zt(this.json.method,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].method"),t)})))}),{},{variant:"outlined",size:"small"})},{title:"",controlInfo:new Sn(this.json.protocol,(function(t){e.dispatch(Ct((function(n){Object(Vt.set)(n,"policy.urls[".concat(e.rowIndex,"].protocol"),t)})))}),["http","https"])}]}}]),n}(Et),In=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(){return Object(wt.a)(this,n),t.apply(this,arguments)}return Object(Lt.a)(n,[{key:"getResolvers",value:function(){var e=this;return void 0===Object(Vt.get)(this.json,"policy.urls")?{titles:[],visitors:[]}:{titles:["Name","Method","Protocol"],visitors:this.json.policy.urls.map((function(t,n){return new En(n,e.dispatch,t)}))}}}]),n}(bn),Mn=n(185),Rn=n.n(Mn),Vn=function(){function e(t){Object(wt.a)(this,e),this.currentJson=t}return Object(Lt.a)(e,[{key:"changeOrder",value:function(e,t){var n,r;this.currentJson.urls&&(null===(n=this.currentJson)||void 0===n?void 0:n.urls[e])&&(this.currentJson.urls=Rn()(this.currentJson.urls,e,t),null===(r=this.currentJson.urls)||void 0===r||r.forEach((function(e,t){e.wildcardOrder=t})))}}]),e}(),An=function(){var e=m(),t=It(Ln),n=It(In).getResolvers(),r=n.titles,c=n.visitors,i=yt();return Object(Y.jsxs)(ce.a,{className:e.pageContent,children:[Object(Y.jsx)($t.a,{variant:"contained",color:"primary",onClick:function(){return t.create()},children:"Add URL"}),Object(Y.jsx)(ce.a,{children:Object(Y.jsx)(jn,{titles:r,visitors:c,settingsName:"URLs",dnd:!0,onDragEnd:function(e){return i(Ct((function(t){var n,r;new Vn(t.policy).changeOrder(e.source.index,null!==(n=null===(r=e.destination)||void 0===r?void 0:r.index)&&void 0!==n?n:0)})))}})})]})},Nn=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(t={},Object(s.a)(t,ft.GeneralSettings,Object(Y.jsx)(Ht,{})),Object(s.a)(t,ft.BlockingSettings,Object(Y.jsx)(mn,{})),Object(s.a)(t,ft.Methods,Object(Y.jsx)(wn,{})),Object(s.a)(t,ft.URLs,Object(Y.jsx)(An,{})),t);Object(wt.a)(this,e),this.pages=n}return Object(Lt.a)(e,[{key:"createPage",value:function(e){return this.pages[e]}}]),e}(),Bn=n(186),zn=n.n(Bn),Tn=n(144),Hn=(n(305),n(306),function(e){var t=e.jsonText,n=e.onTextChange,r=Object(c.useState)(t),i=Object(d.a)(r,2),o=i[0],a=i[1];return Object(c.useEffect)((function(){a(t)}),[t]),Object(Y.jsx)(zn.a,{value:o,onValueChange:function(e){e!==o&&n&&n(e),a(e)},highlight:function(e){return e&&e.length>0&&Object(Tn.highlight)(e,Tn.languages.json,"json")},padding:10,className:"container__editor",style:{fontFamily:"monospace",fontSize:12,position:"relative",overflow:"scroll"}})}),Wn=n(148),_n=Object(_t.a)((function(e){return Object(v.a)({root:{width:"100%"}})}))(Wn.a),Jn=Object(_t.a)((function(e){return Object(v.a)({root:{margin:e.spacing(3),position:"relative"}})}))(ce.a),Un=Object(_t.a)((function(e){return Object(v.a)({root:{position:"absolute",backgroundColor:e.palette.error.main,opacity:.5,top:"0px",left:"0px",width:"100%",height:"100%",borderRadius:e.shape.borderRadius,zIndex:2}})}))(ce.a),Fn=Object(_t.a)((function(e){return Object(v.a)({root:{width:"100%"}})}))(ce.a),Dn=function(){var e=mt(),t=e.currentPage,n=e.strCurrentPolicy,r=e.jsonParseError,i=e.currentTab,o=yt(),a=new Nn;return Object(Y.jsxs)(c.Fragment,{children:[Object(Y.jsx)(le,{variant:"scrollable",scrollButtons:"auto",value:i,onChange:function(e,t){o(function(e,t){return{type:z,currentTab:e,currentPage:t}}(t,vt[t].id))},children:vt.map((function(e){var t=e.label,n=e.id;return Object(Y.jsx)(ue,{label:t},n)}))}),Object(Y.jsx)(Pt.a,{container:!0,spacing:1,children:Object(Y.jsxs)(Pt.a,{container:!0,item:!0,spacing:1,xs:12,children:[Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:2}),Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:8,children:Object(Y.jsxs)(Fn,{children:[Object(Y.jsxs)(Jn,{children:[a.createPage(t),r&&Object(Y.jsx)(Un,{})]}),Object(Y.jsx)(_n,{children:Object(Y.jsx)(Hn,{jsonText:n,onTextChange:function(e){return o(xt(e))}})})]})}),Object(Y.jsx)(Pt.a,{container:!0,item:!0,spacing:1,xs:2})]})})]})},Zn=function(){return Object(Y.jsx)(ee.a,{children:"Policy Wizard is under development"})},Gn=n(188),Xn=n(27),Yn=n(187),$n=n.n(Yn),qn=n(388),Kn=n(394),Qn=n(390),er=function(){function e(t){Object(wt.a)(this,e),this.body=t}return Object(Lt.a)(e,[{key:"preprocess",value:function(){try{var e=JSON.parse(this.body).policy;return(null===e||void 0===e?void 0:e.urls)&&(e.urls=e.urls.sort((function(e,t){var n,r;return(null!==(n=e.wildcardOrder)&&void 0!==n?n:0)-(null!==(r=null===t||void 0===t?void 0:t.wildcardOrder)&&void 0!==r?r:0)}))),JSON.stringify({policy:e})}catch(t){return this.body}}}]),e}();function tr(e){return Object(Y.jsx)(Qn.a,Object(b.a)({elevation:6,variant:"filled"},e))}var nr=function(e){e.match;var t,n=Object(c.useState)(""),i=Object(d.a)(n,2),o=i[0],a=i[1],l=N().currentModule,b=mt(),p=b.strCurrentPolicy,f=b.policySrcUrl,h=yt(),O=$n.a.parse(window.location.search),g=function(e,t){"clickaway"!==t&&a("")};if(Object(c.useEffect)((function(){switch(!0){case O.ref&&""===p:case O.ref&&""!==O.ref&&f!==O.ref:fetch(decodeURI(O.ref)).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,r=new er(n),h(kt(O.ref,r.preprocess()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a("Cannot get the policy by the link. The default policy will be used"),h(kt(O.ref,JSON.stringify({policy:{name:"policy_name",template:{name:"POLICY_TEMPLATE_NGINX_BASE"},applicationLanguage:"utf-8",enforcementMode:"blocking"}},null,2)))}));break;case!O.ref&&""===p:h(xt(JSON.stringify({policy:{name:"policy_name",template:{name:"POLICY_TEMPLATE_NGINX_BASE"},applicationLanguage:"utf-8",enforcementMode:"blocking"}},null,2)))}}),[h,f,O.ref,p]),O.ref&&""===p||O.ref&&""!==O.ref&&f!==O.ref)return Object(Y.jsx)(ce.a,{children:Object(Y.jsx)(qn.a,{})});var v=(t={},Object(s.a)(t,r.ApplicationPreset,Object(Y.jsx)(re,{})),Object(s.a)(t,r.PolicyEditor,Object(Y.jsx)(Dn,{})),Object(s.a)(t,r.PolicyWizard,Object(Y.jsx)(Zn,{})),t);return Object(Y.jsxs)(ne,{children:[v[l],Object(Y.jsx)(Kn.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:""!==o,onClose:g,message:o,children:Object(Y.jsx)(tr,{onClose:g,severity:"error",children:o})})]})};var rr=function(){return Object(Y.jsx)(Gn.a,{children:Object(Y.jsx)(Xn.c,{children:Object(Y.jsx)(Xn.a,{path:"/",component:nr})})})},cr=n(48),ir=n(189),or=function(){function e(t,n){Object(wt.a)(this,e),this._currentState=t,this._reducerFactory=n}return Object(Lt.a)(e,[{key:"process",value:function(e){var t=this._reducerFactory[e.type];return t?Object(ir.a)(this._currentState,(function(n){return t(n,e)})):this._currentState}}]),e}(),ar=function(e,t){return void 0===t.currentModule||(e.currentModule=t.currentModule),e};function sr(){return{currentModule:r.PolicyEditor}}var lr=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(e){return Object(wt.a)(this,n),t.call(this,e,Object(s.a)({},B,ar))}return n}(or),ur=function(e,t){return void 0===t.currentPage||void 0===t.currentTab||(e.currentTab=t.currentTab,e.currentPage=t.currentPage),e},jr=function(e,t){if(void 0===t.strPolicy||""===t.strPolicy)return e;e.strCurrentPolicy=t.strPolicy;try{e.jsonCurrentPolicy=JSON.parse(t.strPolicy),e.jsonParseError=!1}catch(n){e.jsonParseError=!0}return e},dr=function(e,t){return void 0===t.visitor||(t.visitor(e.jsonCurrentPolicy),e.strCurrentPolicy=JSON.stringify(e.jsonCurrentPolicy,null,2)),e},br=function(e,t){if(void 0===t.strPolicy||void 0===t.policySrcUrl)return e;e.strCurrentPolicy=t.strPolicy,e.policySrcUrl=t.policySrcUrl;try{e.jsonCurrentPolicy=JSON.parse(t.strPolicy),e.jsonParseError=!1}catch(n){e.jsonParseError=!0}return e};function pr(){return{policySrcUrl:"",currentTab:0,jsonParseError:!1,currentPage:ft.GeneralSettings,jsonCurrentPolicy:{},strCurrentPolicy:""}}var fr=function(e){Object(Mt.a)(n,e);var t=Object(Rt.a)(n);function n(e){var r;return Object(wt.a)(this,n),t.call(this,e,(r={},Object(s.a)(r,z,ur),Object(s.a)(r,T,jr),Object(s.a)(r,W,dr),Object(s.a)(r,H,br),r))}return n}(or),hr=Object(cr.combineReducers)({dashboardState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr(),t=arguments.length>1?arguments[1]:void 0,n=new lr(e);return n.process(t)},policyEditorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr(),t=arguments.length>1?arguments[1]:void 0,n=new fr(e);return n.process(t)}});var Or="editor-state#0.1",gr=function(){function e(){Object(wt.a)(this,e)}return Object(Lt.a)(e,[{key:"loadState",value:function(){try{var e=sessionStorage.getItem(Or);return JSON.parse(e||"")}catch(t){return{dashboardState:sr(),policyEditorState:pr()}}}},{key:"saveState",value:function(e){try{var t=JSON.stringify(e);sessionStorage.setItem(Or,t)}catch(n){}}}]),e}(),vr=n(190),yr=new gr,mr=yr.loadState(),xr=Object(vr.composeWithDevTools)({trace:!0,traceLimit:25}),Cr=Object(cr.createStore)(hr,mr,xr());Cr.subscribe((function(){yr.saveState(Cr.getState())})),a.a.render(Object(Y.jsx)(i.a.StrictMode,{children:Object(Y.jsx)(A.a,{store:Cr,children:Object(Y.jsx)(rr,{})})}),document.getElementById("root"))}},[[312,1,2]]]);
//# sourceMappingURL=main.4b841482.chunk.js.map